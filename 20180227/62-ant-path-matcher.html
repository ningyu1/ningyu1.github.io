<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-113235655-1', 'auto');
ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<!-- End Google Analytics -->


    

    
<!-- Baidu Tongji -->
<script>var _hmt = _hmt || []</script>
<script async src="//hm.baidu.com/hm.js?83434579b8f6b6a6c80fd1b4fe2d9afa"></script>
<!-- End Baidu Tongji -->




    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="tyyr-WLO-Sq85TjMOOOHRRc5YD4W8if8mCXbUD_p_7k">
    
    
    <meta name="sogou_site_verification" content="PlW7T4UKFR">
    
    
    <meta name="baidu-site-verification" content="AdjyK6UssW">
    
    
    <meta name="msvalidate.01" content="BC20DDADC069448DFBCA67D9D7D57546">
    
    
    <meta name="360-site-verification" content="3addb98f1fb5f6b4d1ce03efc23bf5b8">
    
    
    
    <title>RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher | 凝雨 - Yun | 快乐编程每一天 - Happy Coding Every Day</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="restful,antPathMatcher">
    <meta name="description" content="RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher">
<meta name="keywords" content="restful,antPathMatcher">
<meta property="og:type" content="article">
<meta property="og:title" content="RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher">
<meta property="og:url" content="https://ningyu1.github.io/20180227/62-ant-path-matcher.html">
<meta property="og:site_name" content="凝雨 - Yun">
<meta property="og:description" content="RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2024-04-23T01:48:15.036Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher">
<meta name="twitter:description" content="RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher">
    
        <link rel="alternate" type="application/atom+xml" title="凝雨 - Yun" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">凝雨</h5>
          <a href="mailto:ningbe111@163.com" title="ningbe111@163.com" class="mail">ningbe111@163.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives/"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/ningyu1" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about/"  >
                <i class="icon icon-lg icon-user"></i>
                About
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/atom.xml" target="_blank" >
                <i class="icon icon-lg icon-rss"></i>
                Rss
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://g2.okk.dog/?path=register&code=qn7nOwdj" target="_blank" >
                <i class="icon icon-lg icon-rocket"></i>
                科学上网
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-02-27T08:15:49.000Z" itemprop="datePublished" class="page-time">
  2018-02-27
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/restful/">restful</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>文章目录</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#如何实现RESTful访问权限管理？"><span class="post-toc-number">1.</span> <span class="post-toc-text">如何实现RESTful访问权限管理？</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#权限资源类型"><span class="post-toc-number">2.</span> <span class="post-toc-text">权限资源类型</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#匹配原则"><span class="post-toc-number">3.</span> <span class="post-toc-text">匹配原则</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#根据服务名分类"><span class="post-toc-number">4.</span> <span class="post-toc-text">根据服务名分类</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#权限验证逻辑"><span class="post-toc-number">5.</span> <span class="post-toc-text">权限验证逻辑</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#缓存结构"><span class="post-toc-number">6.</span> <span class="post-toc-text">缓存结构</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#缓存控制"><span class="post-toc-number">7.</span> <span class="post-toc-text">缓存控制</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#缓存加载"><span class="post-toc-number">8.</span> <span class="post-toc-text">缓存加载</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#pattern配置建议"><span class="post-toc-number">9.</span> <span class="post-toc-text">pattern配置建议</span></a></li></ol>
        </nav>
    </aside>


<article id="post-62-ant-path-matcher"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-02-27 16:15:49" datetime="2018-02-27T08:15:49.000Z"  itemprop="datePublished">2018-02-27</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/restful/">restful</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>我们经常在写程序时需要对路径进行匹配，比如说：资源的拦截与加载、<code>RESTful</code>访问控制、审计日志采集、等，伟大的<code>SpringMVC</code>在匹配<code>Controller</code>路径时是如何实现的？全都归功于ant匹配规则。</p>
<p><code>Spring</code>源码之<code>AntPathMatcher</code>，这个工具类匹配很强大，采用的是ant匹配规则。</p>
<p>什么是ant匹配规则？</p>
<table>
<thead>
<tr>
<th style="text-align:left">字符wildcard</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">?</td>
<td style="text-align:left">匹配一个字符（matches one character）</td>
</tr>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">匹配0个及以上字符（matches zero or more characters ）</td>
</tr>
<tr>
<td style="text-align:left">**</td>
<td style="text-align:left">匹配0个及以上目录directories（matches zero or more ‘directories’ in a path ）</td>
</tr>
</tbody>
</table>
<p>这个匹配规则很简单，采用简洁明了的方式来进行匹配解析，简化版本的正则。</p>
<p>结合官方的示例来理解一下</p>
<table>
<thead>
<tr>
<th style="text-align:left">Pattern</th>
<th style="text-align:left">匹配说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">com/t?st.jsp</td>
<td style="text-align:left">匹配: com/test.jsp  ,  com/tast.jsp  ,  com/txst.jsp</td>
</tr>
<tr>
<td style="text-align:left">com/*.jsp</td>
<td style="text-align:left">匹配: com文件夹下的全部.jsp文件</td>
</tr>
<tr>
<td style="text-align:left">com/**/test.jsp</td>
<td style="text-align:left">匹配: com文件夹和子文件夹下的全部.jsp文件</td>
</tr>
<tr>
<td style="text-align:left">org/springframework/*<em>/</em>.jsp</td>
<td style="text-align:left">匹配: org/springframework文件夹和子文件夹下的全部.jsp文件</td>
</tr>
<tr>
<td style="text-align:left">org/**/servlet/bla.jsp</td>
<td style="text-align:left">匹配: org/springframework/servlet/bla.jsp  , org/springframework/testing/servlet/bla.jsp  ,  org/servlet/bla.jsp</td>
</tr>
</tbody>
</table>
<h2 id="如何实现RESTful访问权限管理？"><a href="#如何实现RESTful访问权限管理？" class="headerlink" title="如何实现RESTful访问权限管理？"></a>如何实现RESTful访问权限管理？</h2><p>在微服务和前后端分离的开发模式下，往往会使用<code>RESTful</code>来开发后端服务，那服务的访问权限控制就是一个问题，那下来我们就说一下如何实现<code>RESTful</code>访问权限管理。</p>
<h2 id="权限资源类型"><a href="#权限资源类型" class="headerlink" title="权限资源类型"></a>权限资源类型</h2><p>资源分为如下两种类型：</p>
<ul>
<li><code>public</code>（公有）：<code>public</code>为不控制访问的资源</li>
<li><code>private</code>（私有）：<code>private</code>为需要被控制访问的资源</li>
</ul>
<p><span style="color:blue"><em>ps.这种方式资源管理的相对严格一些，如果想管理的粗矿一些，可以不需要public，只要在private中未找到的资源就是不控制访问的资源即可，实现时可以根据自己的业务场景来调整。</em></span></p>
<h2 id="匹配原则"><a href="#匹配原则" class="headerlink" title="匹配原则"></a>匹配原则</h2><p>基础匹配规则：使用ant匹配规则</p>
<p>在<code>SpringMVC</code>的路径匹配原则中有一个原则是：最长匹配原则(has more characters)</p>
<p>什么是最长匹配原则(has more characters)？</p>
<p>最长匹配原则(has more characters)简单的理解就是目标<code>URL</code>有多个<code>pattern</code>都可以匹配上就取最长的那个<code>pattern</code></p>
<p>例如：请求的<code>URL</code>为<code>/app/dir/file.jsp</code>，有两个<code>pattern</code> <code>/**/*.jsp</code>和<code>/app/dir/*.jsp</code>都可以匹配成功，那么会根据<code>pattern</code>的长度来控制是否采用哪一个，这里使用<code>/app/dir/*.jsp</code>来匹配。</p>
<p>为什么要使用最长匹配原则？我的理解是长的<code>pattern</code>更符合目标<code>URL</code>格式，短的<code>pattern</code>往往是范围较广的，匹配取最适合的<code>pattern</code>也是比较符合预期的。</p>
<h2 id="根据服务名分类"><a href="#根据服务名分类" class="headerlink" title="根据服务名分类"></a>根据服务名分类</h2><p>在做资源访问权限时往往会有多个服务可能会出现相同的资源路径，因此增加一级服务名来对资源进行分类。</p>
<p>例如：<code>GET /v1/service1/product/1</code> 和 <code>GET /v1/service2/product/1</code>，根据二级目录<code>service</code>名称来对服务进行模块化分割。<code>/v1</code>为RESTful版本号</p>
<p><span style="color:blue"><em>ps.服务名就是为了做资源分类</em></span></p>
<h2 id="权限验证逻辑"><a href="#权限验证逻辑" class="headerlink" title="权限验证逻辑"></a>权限验证逻辑</h2><ul>
<li>验证<code>public</code>资源<ul>
<li>去除末尾<code>&quot;/&quot;</code></li>
<li>验证<code>service</code>服务名，服务名为空返回没有权限</li>
<li>获取服务名下<code>enabled=true</code>的资源表，结果进行<code>cache</code>，结果为空没有权限</li>
<li>根据<code>pattern</code>长度倒序</li>
<li>匹配<code>method</code>，匹配成功进行下一步匹配</li>
<li>匹配请求的<code>url</code>，匹配成功返回有权限，反之返回没有权限</li>
</ul>
</li>
<li>验证<code>private</code>资源<ul>
<li>去除末尾<code>&quot;/&quot;</code></li>
<li>验证<code>service</code>服务名，服务名为空返回没有权限</li>
<li>获取服务名下用户角色对应的资源列表聚合结果，结果进行<code>cache</code>，结果为空返回没有权限</li>
<li>根据<code>pattern</code>长度倒序</li>
<li>匹配<code>method</code>，匹配成功进行下一步匹配，反之<code>continue</code></li>
<li>匹配请求的<code>url</code>，匹配成功进行下一步匹配，反之<code>continue</code></li>
<li>检查匹配成功的<code>url</code>是否为禁用状态，如果禁用返回无权限，反之进行下一步匹配</li>
<li>匹配成功的<code>url</code>对应的角色列表进行登录用户的角色匹配</li>
<li>角色匹配成功返回有权限，反之返回没有权限</li>
</ul>
</li>
</ul>
<p><span style="color:blue"><em>ps.method是<code>GET</code>、<code>POST</code>、<code>PUT</code>、<code>PATCH</code>、<code>DELETE</code>，<code>service</code>是服务模块名</em></span></p>
<h2 id="缓存结构"><a href="#缓存结构" class="headerlink" title="缓存结构"></a>缓存结构</h2><ul>
<li>private资源数据<ul>
<li>结构：<code>hash</code></li>
<li><code>cache key=${APPNAME}.METADATA.RESOURCE</code>，<code>field=${RESOURCE_ID}</code>，<code>value=Resource</code>对象</li>
</ul>
</li>
<li>public资源数据<ul>
<li>结构：<code>hash</code></li>
<li><code>cache key=${APPNAME}.METADATA.RESOURCE.PUBLIC</code>，<code>field=${SERVICE}</code>，<code>value=List&lt;Resource&gt;</code></li>
</ul>
</li>
<li>用户关联角色数据<ul>
<li>结构：<code>hash</code></li>
<li><code>cache key=${APPNAME}.METADATA.ROLE</code>，<code>field=${USER_ID}</code>，<code>value=List&lt;ROLE_ID&gt;</code></li>
</ul>
</li>
<li>角色关联的资源数据<ul>
<li>结构：<code>hash</code></li>
<li><code>cache key=${APPNAME}.METADATA.MAPPING</code>，<code>field=${SERVICE}</code>，<code>value=List&lt;Metadata&lt;Resource,List&lt;ROLE_ID&gt;&gt;&gt;</code></li>
<li>这里存储的数据结构是反向的，获取服务下的资源列表，每个资源数据中会有拥有这个资源的角色列表。</li>
</ul>
</li>
</ul>
<p><span style="color:blue"><em>ps.缓存可以使用分布式的<code>redis</code>、<code>redisson</code>、如果单机可以使用<code>jvm cache</code>。</em></span></p>
<h2 id="缓存控制"><a href="#缓存控制" class="headerlink" title="缓存控制"></a>缓存控制</h2><ul>
<li>private资源数据发生变更时<ul>
<li>调用<code>MetadataCache.invalidResources()</code>，失效<code>cache key=${APPNAME}.METADATA.RESOURCE</code>下所有数据</li>
</ul>
</li>
<li>public资源数据发生变更时<ul>
<li>调用<code>MetadataCache.invalidPublicResource(service)</code>失效服务名下的<code>public</code>资源集合，失效<code>cache key=${APPNAME}.METADATA.RESOURCE.PUBLIC</code>下的某个<code>${SERVICE}</code>数据</li>
<li>调用<code>MetadataCache.invalidPublicResource()</code>失效所有服务名下的<code>public</code>资源集合，失效<code>cache key=${APPNAME}.METADATA.RESOURCE.PUBLIC</code>下所有数据</li>
</ul>
</li>
<li>用户关联角色数据发生变更时<ul>
<li>调用<code>MetadataCache.invalidUserRoles(userId)</code>失效用户下的角色集合，失效<code>cache key=${APPNAME}.METADATA.ROLE</code>下所有数据</li>
</ul>
</li>
<li>角色关联的资源数据发生变更时<ul>
<li>调用<code>MetadataCache.invalidMetadata(service)</code>失效服务名下的资源角色聚合对象，失效<code>cache key=${APPNAME}.METADATA.MAPPING</code>下的某个<code>${SERVICE}</code>数据</li>
<li>调用<code>MetadataCache.invalidMetadata()</code>失效所有服务名下的资源角色聚合对象，失效<code>cache key=${APPNAME}.METADATA.MAPPING</code>下所有数据</li>
</ul>
</li>
</ul>
<p><span style="color:blue"><em>ps.在以上触发点上对缓存数据进行更新，这里采用失效再加载方式</em></span></p>
<h2 id="缓存加载"><a href="#缓存加载" class="headerlink" title="缓存加载"></a>缓存加载</h2><ul>
<li><code>private</code>资源数据，在系统启动加载，加载所有私有资源，如果失效了，会在<code>private</code>匹配的时再进行加载</li>
<li><code>public</code>资源数据，在<code>public</code>匹配时加载，通过服务名加载，如果失效了，会在<code>public</code>匹配时再进行加载</li>
<li>用户关联角色数据，在<code>private</code>匹配时加载，如果失效了，会在<code>private</code>匹配时再进行加载</li>
<li>角色关联的资源数据，在<code>private</code>匹配时加载，如果失效了，会在<code>private</code>匹配时再进行加载</li>
</ul>
<p><span style="color:blue"><em>ps.资源数据加载触发点</em></span></p>
<h2 id="pattern配置建议"><a href="#pattern配置建议" class="headerlink" title="pattern配置建议"></a>pattern配置建议</h2><ul>
<li>配置资源时，将不需要配置权限的url配置为<code>public</code>资源</li>
<li>每个服务名下建议配置一个<code>**</code>（双星）通配符给超级管理员使用，例如：<code>/v1/products/**</code></li>
<li>每个<code>url</code>的第二级目录要与服务名一致，例如：<code>/v1/products/{pid}</code>，服务名为<code>products</code></li>
<li><code>url</code>的目录结构必须大于两级目录，例如：<code>/v1/products/{pid}</code>，不允许为：<code>/v1/{pid}</code></li>
<li><code>url</code>与权限通配符映射关系，前面<code>url</code>，后面<code>pattern</code><ul>
<li>例如：<code>/v1/products/{pid}</code> -&gt; <code>/v1/products/*</code></li>
<li>例如：<code>/v1/products/{pid}/skus/{sid}</code> -&gt; <code>/v1/products/*/skus/*</code></li>
<li>例如：<code>/v1/products/enabled</code> -&gt; <code>/v1/products/enabled</code></li>
<li>例如：<code>/v1/products/**</code>，匹配<code>products</code>目录下所有目录</li>
</ul>
</li>
</ul>
<p><strong>以上就是一种RESTful资源管理的实现思路，能控制到RESTful的方法级别，在前后端分离的项目可以使用这种方式来控制访问权限。</strong></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2024-04-23T01:48:15.036Z" itemprop="dateUpdated">2024-04-23 09:48:15</time>
</span><br>


        
        原始链接：<a href="/20180227/62-ant-path-matcher.html" target="_blank" rel="external">https://ningyu1.github.io/20180227/62-ant-path-matcher.html</a><br>版权声明：本文由 <strong>凝雨-Yun</strong> 原创，采用<strong><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a></strong>进行许可。 <br><strong>转载请注明作者及出处！</strong><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
        
    </div>
    
    <footer>
        <a href="https://ningyu1.github.io">
            <img src="/img/avatar.jpg" alt="凝雨">
            凝雨
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/antPathMatcher/">antPathMatcher</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/restful/">restful</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://ningyu1.github.io/20180227/62-ant-path-matcher.html&title=《RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher》 — 凝雨 - Yun&pic=https://ningyu1.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://ningyu1.github.io/20180227/62-ant-path-matcher.html&title=《RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher》 — 凝雨 - Yun&source=快乐编程每一天 - Happy Coding Every Day" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://ningyu1.github.io/20180227/62-ant-path-matcher.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher》 — 凝雨 - Yun&url=https://ningyu1.github.io/20180227/62-ant-path-matcher.html&via=https://ningyu1.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://ningyu1.github.io/20180227/62-ant-path-matcher.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/20180302/63-python-virtualenv.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">构建Python多个虚拟环境来进行不同版本开发之神器-virtualenv</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/20180211/61-disconf-ext.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">扩展Disconf支持Global共享配置，简化业务应用参数配置</h4>
      </a>
    </div>
  
</nav>



    

















<section class="comments" id="comments">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        var id = location.pathname
        if (location.pathname.length > 50) {
          id = location.pathname.replace(/\/\d+\/\d+\/\d+\//, '').replace('/', '').substring(0, 50)
        }
        const gitalk = new Gitalk({
          clientID: '298f0d78bd14c9c0ff01',
          clientSecret: 'e81e4d36caf1a13d2f05ed5dcf30e636dde749ac',
          repo: 'blog',
          owner: 'ningyu1',
          admin: ['ningyu1'],
          id: id,      // Ensure uniqueness and length less than 50
	  //id: 'Comments',
          title: document.title.split('|')[0],
          distractionFreeMode: false  // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    </script>
</section>




</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        可以吃个鸡腿吗？
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.zh">知识共享署名-相同方式共享 4.0 国际许可协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>凝雨 &copy; 2016 - 2024</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://ningyu1.github.io/20180227/62-ant-path-matcher.html&title=《RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher》 — 凝雨 - Yun&pic=https://ningyu1.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://ningyu1.github.io/20180227/62-ant-path-matcher.html&title=《RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher》 — 凝雨 - Yun&source=快乐编程每一天 - Happy Coding Every Day" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://ningyu1.github.io/20180227/62-ant-path-matcher.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《RESTful访问权限管理实现思路，采用路径匹配神器之AntPathMatcher》 — 凝雨 - Yun&url=https://ningyu1.github.io/20180227/62-ant-path-matcher.html&via=https://ningyu1.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://ningyu1.github.io/20180227/62-ant-path-matcher.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJElEQVR42u3awY6DMAxF0f7/TzPSrGZRmPvsUJX4ZlVRCDksrNjO64XH8TvOrv8d19fJW/j98ZAhQ8ZjGcfl6DD4/WefjKxNhgwZcxjpdOmz980vQ4YMGelv8u9Z0JQhQ4aMVQG3cychyZAhQ0YniSWFsE5q+qFcXIYMGQ9kpI2BT/6+sb8hQ4aMhzCOcFwHX74dPLv/KA0ZMmTszbiert9c7KTBaQFOhgwZezNqYZQsiy+9E8plyJAxh8En4hvHz2wxZciQMYHRWWL6VBqsg2KcDBkyNmXUGpY8UPKNY+dZGTJkzGHc/bJVAfpN8JUhQ8YABgmXPBzzAhlZKEplZciQMYaRFss4oL+J/OdTypAhYwwjXTQ/AFEL60EDVYYMGQMYJE2tNSPjDmrtQIYMGTIGMHgJrBNAa2U7kvTKkCFjAiNoFuIQ3I+EQTtBhgwZAxidcFkr7pOQTWaTIUPGBAZpT64t9F+no7w98OZOGTJkbMqoHcxaViZbhJQhQ8YEBll62hJIN3ZpqI03hTJkyHgsI9g/hptCcj1tZ7Z2uDJkyHgs4whHrYVZm4E3G2TIkLE3o3Y8iwdTfuAsbU7IkCFjGiMNsuRL8KXwImBrgyhDhowtGK1SV5gSd9LX0xlkyJAhAy8lTXF5SzWoGsqQIWM8g2fDPAXl6S7qx8qQIWNTBj9UUSuiLSjrk4ArQ4aMTRmrGgP9cn967OOW/oYMGTK+i/EDQtxqmMgJ8EgAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-indigo-patch@1.0.0/source/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>










</body>
</html>
